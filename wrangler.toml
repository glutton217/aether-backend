# Cloudflare Workers configuration
# Note: Nitro will auto-generate/update this file when deployConfig: true is set
# You can manually override settings here if needed

name = "aether-backend"
compatibility_date = "2025-03-05"
compatibility_flags = ["nodejs_compat"]

# Cron Triggers for scheduled tasks
# These patterns should match the scheduledTasks in nitro.config.ts
# Nitro will automatically create scheduled handlers for these tasks
[triggers]
crons = [
  "0 0 * * *",    # Daily at midnight - jobs:clear-metrics:daily
  "0 0 * * 0",    # Weekly on Sunday at midnight - jobs:clear-metrics:weekly
  "0 0 1 * *"     # Monthly on 1st at midnight - jobs:clear-metrics:monthly
]

# Environment variables configuration:
# Set variables via Cloudflare dashboard: Workers & Pages > Your Worker > Settings > Variables
# Or via CLI: wrangler secret put <VARIABLE_NAME> (for sensitive values)
# 
# Required variables (set in Cloudflare dashboard):
# - DATABASE_URL (your Neon PostgreSQL connection string)
# - CRYPTO_SECRET
# - TMDB_API_KEY
# - TRAKT_CLIENT_ID
# - TRAKT_SECRET_ID
#
# Optional variables:
# - CAPTCHA (set to "true" or "false")
# - CAPTCHA_CLIENT_KEY
# - META_NAME
# - META_DESCRIPTION
#
# Note: Variables set in Cloudflare dashboard are automatically available as environment variables
# Use "secrets" for sensitive values that shouldn't be visible in dashboard
